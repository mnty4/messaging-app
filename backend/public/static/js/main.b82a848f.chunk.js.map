{"version":3,"sources":["components/Room/Room.module.css","components/Message/Message.js","components/Chat/Chat.js","components/Join/Join.js","components/Room/Room.js","components/Rooms/Rooms.js","App.js","reportWebVitals.js","index.js","components/Join/Join.module.css","components/Chat/Chat.module.css","components/Message/Message.module.css","components/Rooms/Rooms.module.css"],"names":["module","exports","Message","userData","isSelf","className","styles","style","alignSelf","MessageMeta","username","time","MessageText","message","defaultProps","Chat","socket","room","useState","setMessage","messageList","setMessageList","submitHandler","e","a","preventDefault","length","messageData","id","hours","Date","getHours","minutes","getMinutes","emit","messages","useEffect","on","chatHeader","type","placeholder","onChange","target","value","onKeyPress","key","onClick","chatBody","map","i","Join","joinHandler","setRoom","setUsername","onSubmit","title","htmlFor","usernameField","roomField","submit","Room","count","Rooms","rooms","refreshHandler","roomList","console","log","process","io","connect","App","joinedRoom","setJoinedRoom","setRooms","roomArr","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b82a848f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Room\":\"Room_Room__1Eld3\"};","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Message.module.css\";\r\n\r\nconst Message = ({ userData, isSelf }) => {\r\n  return (\r\n    <div\r\n      className={styles.Message}\r\n      style={isSelf ? { alignSelf: \"flex-end\" } : { alignSelf: \"flex-start\" }}\r\n    >\r\n      <p className={styles.MessageMeta}>\r\n        {isSelf ? \"me\" : userData.username} - {userData.time}\r\n      </p>\r\n      <p className={styles.MessageText}>{userData.message}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nMessage.propTypes = {};\r\n\r\nMessage.defaultProps = {};\r\n\r\nexport default Message;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Chat.module.css\";\r\nimport Message from \"../Message/Message\";\r\nimport ScrollToBottom from \"react-scroll-to-bottom\";\r\n\r\nconst Chat = ({ socket, username, room }) => {\r\n  const [message, setMessage] = useState(\"\");\r\n  const [messageList, setMessageList] = useState([]);\r\n\r\n  const submitHandler = async (e) => {\r\n    e && e.preventDefault();\r\n    if (message.length < 1) return;\r\n\r\n    const messageData = {\r\n      id: socket.id,\r\n      username,\r\n      room,\r\n      message,\r\n      time: (() => {\r\n        const hours = new Date().getHours();\r\n        let minutes = new Date().getMinutes();\r\n        if (minutes < 10) minutes = \"0\" + minutes;\r\n        if (hours === 0) return `12:${minutes}am`;\r\n        return hours > 12\r\n          ? `${hours - 12}:${minutes}pm`\r\n          : `${hours}:${minutes}am`;\r\n      })(),\r\n    };\r\n    await socket.emit(\"send_message\", messageData);\r\n\r\n    setMessageList((messages) => [...messages, messageData]);\r\n    setMessage(\"\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.on(\"receive_message\", (messageData) => {\r\n      setMessageList((messages) => [...messages, messageData]);\r\n    });\r\n  }, [socket]);\r\n\r\n  return (\r\n    <div className={styles.Chat}>\r\n      <div>\r\n        <h2 className={styles.chatHeader}>{room} - Live Chat</h2>\r\n      </div>\r\n\r\n      <div className=\"chat-footer\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Hey...\"\r\n          onChange={(e) => setMessage(e.target.value)}\r\n          value={message}\r\n          onKeyPress={(e) => e.key === \"Enter\" && submitHandler()}\r\n        />\r\n        <button onClick={submitHandler}>Send</button>\r\n      </div>\r\n      <div className={styles.chatBody}>\r\n        {messageList.map((userData, i) => {\r\n          return (\r\n            <Message\r\n              key={i}\r\n              userData={userData}\r\n              isSelf={socket.id === userData.id}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nChat.propTypes = {};\r\n\r\nChat.defaultProps = {};\r\n\r\nexport default Chat;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Join.module.css\";\r\n\r\nconst Join = ({ joinHandler, setRoom, setUsername, room, username }) => {\r\n  return (\r\n    <form onSubmit={joinHandler} className={styles.Join}>\r\n      <h1 className={styles.title}>Join a chat</h1>\r\n      <label className={styles.username} htmlFor=\"name\">\r\n        Username\r\n      </label>\r\n      <input\r\n        id=\"name\"\r\n        type=\"text\"\r\n        className={styles.usernameField}\r\n        onChange={(e) => setUsername(e.target.value)}\r\n        value={username}\r\n      />\r\n      <label className={styles.room} htmlFor=\"room\">\r\n        Room\r\n      </label>\r\n      <input\r\n        id=\"room\"\r\n        type=\"text\"\r\n        className={styles.roomField}\r\n        onChange={(e) => setRoom(e.target.value)}\r\n        value={room}\r\n        onKeyPress={(e) => e.key === \"Enter\" && joinHandler()}\r\n      />\r\n\r\n      <button className={styles.submit}>Join</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nJoin.propTypes = {};\r\n\r\nJoin.defaultProps = {};\r\n\r\nexport default Join;\r\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Room.module.css\";\n\nconst Room = ({ room, count }) => (\n  <div className={styles.Room}>\n    <div>{room}</div>\n    <div>{count}/300</div>\n  </div>\n);\n\nRoom.propTypes = {};\n\nRoom.defaultProps = {};\n\nexport default Room;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./Rooms.module.css\";\nimport Room from \"../Room/Room\";\n\nconst Rooms = ({ rooms, refreshHandler }) => {\n  return (\n    <div className={styles.Rooms}>\n      <h1 className={styles.title}>Title</h1>\n      <button onClick={refreshHandler}>Refresh</button>\n      <div className={styles.roomList}>\n        {rooms.map(([room, count], i) => (\n          <Room room={room} count={count} key={i} />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nRooms.propTypes = {};\n\nRooms.defaultProps = {};\n\nexport default Rooms;\n","import \"./App.css\";\r\nimport io from \"socket.io-client\";\r\nimport { useEffect, useState } from \"react\";\r\nimport Chat from \"./components/Chat/Chat\";\r\nimport Join from \"./components/Join/Join\";\r\nimport Rooms from \"./components/Rooms/Rooms\";\r\nconsole.log(process.env.REACT_APP_API_ENDPOINT);\r\nconst socket = io.connect(process.env.REACT_APP_API_ENDPOINT);\r\nfunction App() {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [room, setRoom] = useState(\"\");\r\n  const [joinedRoom, setJoinedRoom] = useState(\"\");\r\n  const [rooms, setRooms] = useState([]);\r\n  const validate = () => {\r\n    return room.length > 0 && username.length > 0;\r\n  };\r\n\r\n  const joinHandler = async (e) => {\r\n    e && e.preventDefault();\r\n    if (!validate()) return console.log(\":(\");\r\n    console.log(\"joined room: \", room);\r\n    await socket.emit(\"leave_room\", joinedRoom);\r\n    await socket.emit(\"join_room\", room);\r\n    setJoinedRoom(room);\r\n    setRoom(\"\");\r\n    refreshHandler();\r\n  };\r\n\r\n  const refreshHandler = async () => {\r\n    await socket.emit(\"refresh_rooms\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    socket.on(\"receive_refreshed_rooms\", (roomArr) => {\r\n      setRooms(roomArr);\r\n      console.log(rooms);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Join\r\n        joinHandler={joinHandler}\r\n        setRoom={setRoom}\r\n        setUsername={setUsername}\r\n        username={username}\r\n        room={room}\r\n      />\r\n      <Rooms refreshHandler={refreshHandler} rooms={rooms} />\r\n      {joinedRoom !== \"\" && (\r\n        <Chat socket={socket} username={username} room={joinedRoom} />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Join\":\"Join_Join__3colv\",\"title\":\"Join_title__20gtj\",\"username\":\"Join_username__BXp8F\",\"usernameField\":\"Join_usernameField__2wBFK\",\"room\":\"Join_room__31hsu\",\"roomField\":\"Join_roomField__f1Hqr\",\"submit\":\"Join_submit__1rPkp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Chat\":\"Chat_Chat__3RhN7\",\"chatHeader\":\"Chat_chatHeader__1JyAv\",\"chatBody\":\"Chat_chatBody__1z5RR\",\"scrollToBottom\":\"Chat_scrollToBottom__3ZOXH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Message\":\"Message_Message__2s4Xw\",\"MessageText\":\"Message_MessageText__-Gd0S\",\"MessageMeta\":\"Message_MessageMeta__3qtqN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Rooms\":\"Rooms_Rooms__2oZxg\",\"title\":\"Rooms_title__3-3LA\",\"roomList\":\"Rooms_roomList__2UFZN\"};"],"sourceRoot":""}