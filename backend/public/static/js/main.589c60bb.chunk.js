(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,n){e.exports={Chat:"Chat_Chat__3RhN7",chatHeader:"Chat_chatHeader__1JyAv",chatBody:"Chat_chatBody__1z5RR"}},22:function(e,t,n){e.exports={Message:"Message_Message__2s4Xw",MessageText:"Message_MessageText__-Gd0S",MessageMeta:"Message_MessageMeta__3qtqN"}},25:function(e,t,n){e.exports={Join:"Join_Join__3colv",form:"Join_form__3E2rb"}},37:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(6),s=n.n(a),c=n(27),r=n.n(c),o=n(14),i=(n(37),n(32)),l=n(24),u=n.n(l),j=n(26),m=n(31),h=n(21),b=n.n(h),d=n(22),f=n.n(d),g=n(0),p=function(e){var t=e.userData,n=e.isSelf;return Object(g.jsxs)("div",{className:f.a.Message,style:n?{alignSelf:"flex-start"}:{alignSelf:"flex-end"},children:[Object(g.jsxs)("p",{className:f.a.MessageMeta,children:[n?"me":t.username," - ",t.time]}),Object(g.jsx)("p",{className:f.a.MessageText,children:t.message})]})};p.defaultProps={};var x=p,O=function(e){var t=e.socket,n=e.username,s=e.room,c=Object(a.useState)(""),r=Object(o.a)(c,2),i=r[0],l=r[1],h=Object(a.useState)([]),d=Object(o.a)(h,2),f=d[0],p=d[1],O=function(){var e=Object(m.a)(u.a.mark((function e(a){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a.preventDefault(),!(i.length<1)){e.next=3;break}return e.abrupt("return");case 3:return c={username:n,room:s,message:i,time:function(){var e=(new Date).getHours(),t=(new Date).getMinutes();return t<10&&(t="0"+t),0===e?"12:".concat(t,"am"):e>12?"".concat(e-12,":").concat(t,"pm"):"".concat(e,":").concat(t,"am")}()},e.next=6,t.emit("send_message",c);case 6:console.log(f),p((function(e){return[].concat(Object(j.a)(e),[c])}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t.on("receive_message",(function(e){console.log(f),p((function(t){return[].concat(Object(j.a)(t),[e])}))}))}),[t]),Object(g.jsxs)("div",{className:b.a.Chat,children:[Object(g.jsx)("div",{children:Object(g.jsxs)("h2",{className:b.a.chatHeader,children:[s," - Live Chat"]})}),Object(g.jsxs)("div",{className:"chat-footer",children:[Object(g.jsx)("input",{type:"text",placeholder:"Hey...",onChange:function(e){return l(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&O()}}),Object(g.jsx)("button",{onClick:O,children:"Send"})]}),Object(g.jsx)("div",{className:b.a.chatBody,children:f.map((function(e,t){return Object(g.jsx)(x,{userData:e,isSelf:n===e.username},t)}))})]})};O.defaultProps={};var v=O,_=n(25),N=n.n(_),M=function(e){var t=e.joinHandler,n=e.setRoom,a=e.setUsername;return Object(g.jsx)("div",{className:N.a.Join,children:Object(g.jsxs)("form",{onSubmit:t,className:N.a.form,children:[Object(g.jsx)("h1",{className:"title",children:"Join a chat"}),Object(g.jsx)("label",{className:"name",htmlFor:"name",children:"Name"}),Object(g.jsx)("input",{id:"name",type:"text",className:"name-input",onChange:function(e){return a(e.target.value)}}),Object(g.jsx)("label",{className:"room",htmlFor:"room",children:"Room"}),Object(g.jsx)("input",{id:"room",type:"text",className:"room-input",onChange:function(e){return n(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&t()}}),Object(g.jsx)("button",{className:"join",children:"Join"})]})})};M.defaultProps={};var y=M;console.log("https://ball-talk-1.herokuapp.com/");var C=i.a.connect("https://ball-talk-1.herokuapp.com/");var S=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(""),r=Object(o.a)(c,2),i=r[0],l=r[1],u=Object(a.useState)(""),j=Object(o.a)(u,2),m=j[0],h=j[1];return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(y,{joinHandler:function(e){if(e&&e.preventDefault(),!(i.length>0&&n.length>0))return console.log(":(");console.log("joined room: ",i),C.emit("leave_room",m),h(i),C.emit("join_room",i)},setRoom:l,setUsername:s}),""!==m&&Object(g.jsx)(v,{socket:C,username:n,room:m})]})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;n(e),a(e),s(e),c(e),r(e)}))};r.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(S,{})}),document.getElementById("root")),k()}},[[45,1,2]]]);
//# sourceMappingURL=main.589c60bb.chunk.js.map