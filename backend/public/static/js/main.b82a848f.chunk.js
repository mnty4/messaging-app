(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{194:function(e,t,n){e.exports={Room:"Room_Room__1Eld3"}},201:function(e,t,n){},367:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(178),o=n.n(s),c=n(40),i=n.n(c),u=n(61),l=n(33),m=(n(201),n(195)),j=n(127),d=n(84),h=n.n(d),f=n(85),b=n.n(f),_=n(1),p=function(e){var t=e.userData,n=e.isSelf;return Object(_.jsxs)("div",{className:b.a.Message,style:n?{alignSelf:"flex-end"}:{alignSelf:"flex-start"},children:[Object(_.jsxs)("p",{className:b.a.MessageMeta,children:[n?"me":t.username," - ",t.time]}),Object(_.jsx)("p",{className:b.a.MessageText,children:t.message})]})};p.defaultProps={};var x=p,O=(n(366),function(e){var t=e.socket,n=e.username,r=e.room,s=Object(a.useState)(""),o=Object(l.a)(s,2),c=o[0],m=o[1],d=Object(a.useState)([]),f=Object(l.a)(d,2),b=f[0],p=f[1],O=function(){var e=Object(u.a)(i.a.mark((function e(a){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a.preventDefault(),!(c.length<1)){e.next=3;break}return e.abrupt("return");case 3:return s={id:t.id,username:n,room:r,message:c,time:function(){var e=(new Date).getHours(),t=(new Date).getMinutes();return t<10&&(t="0"+t),0===e?"12:".concat(t,"am"):e>12?"".concat(e-12,":").concat(t,"pm"):"".concat(e,":").concat(t,"am")}()},e.next=6,t.emit("send_message",s);case 6:p((function(e){return[].concat(Object(j.a)(e),[s])})),m("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t.on("receive_message",(function(e){p((function(t){return[].concat(Object(j.a)(t),[e])}))}))}),[t]),Object(_.jsxs)("div",{className:h.a.Chat,children:[Object(_.jsx)("div",{children:Object(_.jsxs)("h2",{className:h.a.chatHeader,children:[r," - Live Chat"]})}),Object(_.jsxs)("div",{className:"chat-footer",children:[Object(_.jsx)("input",{type:"text",placeholder:"Hey...",onChange:function(e){return m(e.target.value)},value:c,onKeyPress:function(e){return"Enter"===e.key&&O()}}),Object(_.jsx)("button",{onClick:O,children:"Send"})]}),Object(_.jsx)("div",{className:h.a.chatBody,children:b.map((function(e,n){return Object(_.jsx)(x,{userData:e,isSelf:t.id===e.id},n)}))})]})});O.defaultProps={};var v=O,g=n(41),N=n.n(g),k=function(e){var t=e.joinHandler,n=e.setRoom,a=e.setUsername,r=e.room,s=e.username;return Object(_.jsxs)("form",{onSubmit:t,className:N.a.Join,children:[Object(_.jsx)("h1",{className:N.a.title,children:"Join a chat"}),Object(_.jsx)("label",{className:N.a.username,htmlFor:"name",children:"Username"}),Object(_.jsx)("input",{id:"name",type:"text",className:N.a.usernameField,onChange:function(e){return a(e.target.value)},value:s}),Object(_.jsx)("label",{className:N.a.room,htmlFor:"room",children:"Room"}),Object(_.jsx)("input",{id:"room",type:"text",className:N.a.roomField,onChange:function(e){return n(e.target.value)},value:r,onKeyPress:function(e){return"Enter"===e.key&&t()}}),Object(_.jsx)("button",{className:N.a.submit,children:"Join"})]})};k.defaultProps={};var y=k,M=n(86),R=n.n(M),C=n(194),F=n.n(C),J=function(e){var t=e.room,n=e.count;return Object(_.jsxs)("div",{className:F.a.Room,children:[Object(_.jsx)("div",{children:t}),Object(_.jsxs)("div",{children:[n,"/300"]})]})};J.defaultProps={};var S=J,w=function(e){var t=e.rooms,n=e.refreshHandler;return Object(_.jsxs)("div",{className:R.a.Rooms,children:[Object(_.jsx)("h1",{className:R.a.title,children:"Title"}),Object(_.jsx)("button",{onClick:n,children:"Refresh"}),Object(_.jsx)("div",{className:R.a.roomList,children:t.map((function(e,t){var n=Object(l.a)(e,2),a=n[0],r=n[1];return Object(_.jsx)(S,{room:a,count:r},t)}))})]})};w.defaultProps={};var H=w;console.log("https://ball-talk-1.herokuapp.com/");var P=m.a.connect("https://ball-talk-1.herokuapp.com/");var B=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),o=Object(l.a)(s,2),c=o[0],m=o[1],j=Object(a.useState)(""),d=Object(l.a)(j,2),h=d[0],f=d[1],b=Object(a.useState)([]),p=Object(l.a)(b,2),x=p[0],O=p[1],g=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),c.length>0&&n.length>0){e.next=3;break}return e.abrupt("return",console.log(":("));case 3:return console.log("joined room: ",c),e.next=6,P.emit("leave_room",h);case 6:return e.next=8,P.emit("join_room",c);case 8:f(c),m(""),N();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.emit("refresh_rooms");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){P.on("receive_refreshed_rooms",(function(e){O(e),console.log(x)}))}),[]),Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(y,{joinHandler:g,setRoom:m,setUsername:r,username:n,room:c}),Object(_.jsx)(H,{refreshHandler:N,rooms:x}),""!==h&&Object(_.jsx)(v,{socket:P,username:n,room:h})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,368)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),s(e),o(e)}))};o.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(B,{})}),document.getElementById("root")),T()},41:function(e,t,n){e.exports={Join:"Join_Join__3colv",title:"Join_title__20gtj",username:"Join_username__BXp8F",usernameField:"Join_usernameField__2wBFK",room:"Join_room__31hsu",roomField:"Join_roomField__f1Hqr",submit:"Join_submit__1rPkp"}},84:function(e,t,n){e.exports={Chat:"Chat_Chat__3RhN7",chatHeader:"Chat_chatHeader__1JyAv",chatBody:"Chat_chatBody__1z5RR",scrollToBottom:"Chat_scrollToBottom__3ZOXH"}},85:function(e,t,n){e.exports={Message:"Message_Message__2s4Xw",MessageText:"Message_MessageText__-Gd0S",MessageMeta:"Message_MessageMeta__3qtqN"}},86:function(e,t,n){e.exports={Rooms:"Rooms_Rooms__2oZxg",title:"Rooms_title__3-3LA",roomList:"Rooms_roomList__2UFZN"}}},[[367,1,2]]]);
//# sourceMappingURL=main.b82a848f.chunk.js.map