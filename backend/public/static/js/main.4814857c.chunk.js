(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{137:function(e,t,n){e.exports={Chat:"Chat_Chat__2288t",chatHeader:"Chat_chatHeader__35Xpc",chatBody:"Chat_chatBody__3eRBN",scrollToBottom:"Chat_scrollToBottom__3DB6i",messages:"Chat_messages__1BjSs"}},196:function(e,t,n){e.exports={Message:"Message_Message__2Gem7",MessageText:"Message_MessageText__1rKSD",MessageMeta:"Message_MessageMeta__3RDlH"}},210:function(e,t,n){e.exports={Rooms:"Rooms_Rooms__378JE",title:"Rooms_title__1xmak",roomList:"Rooms_roomList__3wuqI"}},211:function(e,t,n){e.exports={Room:"Room_Room__2llEj"}},222:function(e,t,n){},228:function(e,t,n){e.exports={UsersTyping:"UsersTyping_UsersTyping__13yZ8"}},229:function(e,t,n){},390:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(191),o=n.n(s),c=n(40),i=n.n(c),l=n(60),u=n(10),j=(n(222),n(215)),m=n(97),d=n(137),b=n.n(d),h=n(196),f=n.n(h),p=n(398),x=n(1),O=function(e){var t=e.userData,n=e.isSelf;return Object(x.jsxs)(p.a,{className:"mb-2 px-2 py-1 "+(n&&"bg-primary"),style:n?{alignSelf:"flex-end",width:"60%",color:"#FFF"}:{alignSelf:"flex-start",width:"60%"},children:[Object(x.jsxs)(p.a.Text,{className:f.a.MessageMeta+" mb-2",style:{textAlign:"start"},children:[n?"me":t.username," - ",t.time]}),Object(x.jsx)(p.a.Text,{style:{textAlign:"start"},children:t.message})]})};O.defaultProps={};var g=O,_=n(392),v=n(399),y=n(397),C=n(393),k=(n(228),n(229),function(e){var t=e.usersTyping;return Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px",fontWeight:600},className:"mx-1",children:[Object(x.jsx)("div",{style:{color:"#9880ff"},children:1===t.length?t[0].username+" is typing":2===t.length?"".concat(t[0].username," and ").concat(t[1].username," are typing"):t.length>2?"".concat(t[0].username," and ").concat(t.length-1," others are typing"):void 0}),Object(x.jsx)("div",{className:"dot-elastic"})]})});k.defaultProps={};var w=k,R=n(214),S=function(e){var t=e.socket,n=e.username,r=e.room,s=Object(a.useState)([]),o=Object(u.a)(s,2),c=o[0],j=o[1],d=Object(a.useState)(""),h=Object(u.a)(d,2),f=h[0],p=h[1],O=Object(a.useState)([]),k=Object(u.a)(O,2),S=k[0],N=k[1],J=Object(a.useState)(!1),T=Object(u.a)(J,2),M=T[0],E=T[1],F=function(){var e=Object(l.a)(i.a.mark((function e(a){var s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a&&a.preventDefault(),!(f.length<1)){e.next=3;break}return e.abrupt("return");case 3:return s={id:t.id,username:n,room:r,message:f,time:function(){var e=(new Date).getHours(),t=(new Date).getMinutes();return t<10&&(t="0"+t),0===e?"12:".concat(t,"am"):e>12?"".concat(e-12,":").concat(t,"pm"):"".concat(e,":").concat(t,"am")}()},e.next=6,t.emit("send_message",s);case 6:j((function(e){return[].concat(Object(m.a)(e),[s])})),p("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){t.on("receive_message",(function(e){j((function(t){return[].concat(Object(m.a)(t),[e])}))})),t.on("receive_typing",(function(e){N((function(t){return[].concat(Object(m.a)(t),[e])}))})),t.on("receive_cancel_typing",(function(e){N((function(t){return t.filter((function(t){return t.id!==e.id}))}))}))}),[t]),Object(a.useEffect)((function(){0===f.length&&(console.log("not typing"),t.emit("cancel_typing",{id:t.id,username:n,room:r}),E(!1))}),[f]),Object(x.jsxs)(_.a,{className:b.a.Chat,children:[Object(x.jsxs)("h2",{children:[r," - Live Chat"]}),Object(x.jsx)("div",{style:{height:"24px"},children:S.length>0&&Object(x.jsx)(w,{usersTyping:S})}),Object(x.jsxs)(v.a,{children:[Object(x.jsx)(y.a.Control,{type:"text",placeholder:"Hey...",onChange:function(e){p(e.target.value),M||(t.emit("typing",{id:t.id,username:n,room:r}),E(!0),console.log("isstyping"))},value:f,onKeyPress:function(e){return"Enter"===e.key&&F()}}),Object(x.jsx)(C.a,{variant:"primary",onClick:F,children:"Send"})]}),Object(x.jsx)(R.a,{children:Object(x.jsx)("div",{className:b.a.messages+" mt-2",children:c.map((function(e,n){return Object(x.jsx)(g,{userData:e,isSelf:t.id===e.id},n)}))})})]})};S.defaultProps={};var N=S,J=n(96),T=n.n(J),M=n(394),E=n(209),F=function(e){var t=e.joinHandler,n=e.setRoom,a=e.setUsername,r=e.room,s=e.username;return Object(x.jsx)(_.a,{className:T.a.Join+" mb-4",children:Object(x.jsxs)(y.a,{onSubmit:t,className:T.a.Join,children:[Object(x.jsx)("h2",{className:T.a.title,children:"Join a Chat"}),Object(x.jsxs)(M.a,{children:[Object(x.jsx)(E.a,{lg:!0,children:Object(x.jsxs)(y.a.Group,{children:[Object(x.jsx)(y.a.Label,{children:"Username"}),Object(x.jsx)(y.a.Control,{required:!0,type:"text",onChange:function(e){return a(e.target.value)},value:s})]})}),Object(x.jsx)(E.a,{lg:!0,children:Object(x.jsxs)(y.a.Group,{children:[Object(x.jsx)(y.a.Label,{children:"Room"}),Object(x.jsx)(y.a.Control,{type:"text",onChange:function(e){return n(e.target.value)},value:r,onKeyPress:function(e){return"Enter"===e.key&&t()}})]})})]}),Object(x.jsx)(M.a,{className:"mb-3",children:Object(x.jsx)(y.a.Text,{className:"text-muted",children:"Enter a username and the room you wish to join or join a room directly below!"})}),Object(x.jsx)(C.a,{type:"submit",children:"Join"})]})})};F.defaultProps={};var D=F,P=n(210),B=n.n(P),H=n(211),I=n.n(H),L=n(216),U=function(e){var t=e.room,n=e.count,r=e.join,s=e.joinedRoom,o=Object(a.useState)(!1),c=Object(u.a)(o,2),i=c[0],l=c[1];return Object(a.useEffect)((function(){l(s===t)}),[s,t]),Object(x.jsx)(L.a,{className:"pb-3 pt-3",children:Object(x.jsxs)("div",{className:I.a.Room,children:[Object(x.jsx)("b",{children:t}),Object(x.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"1em"},children:[Object(x.jsxs)("div",{children:[n,"/300"]}),Object(x.jsx)(C.a,{disabled:i,onClick:function(){r(t)},children:"Join"})]})]})})};U.defaultProps={};var G=U,K=n(395),q=n(396),A=function(e){var t=e.rooms,n=e.refreshHandler,a=e.join,r=e.joinedRoom,s=e.onlineTotal,o=e.wheelIsGrey;return Object(x.jsxs)(_.a,{className:B.a.Rooms,children:[Object(x.jsx)("h2",{children:"Chat Rooms"}),Object(x.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"1em"},children:[Object(x.jsx)("div",{style:{backgroundColor:"green",width:"10px",height:"10px",borderRadius:"50%"}}),Object(x.jsx)("div",{style:{color:"green"},children:"".concat(s," User").concat(1!==s?"'s":""," Online")}),Object(x.jsx)(K.a,{size:32,onClick:n,style:o?{color:"grey"}:{cursor:"pointer"},className:"mt-1"})]}),Object(x.jsx)(q.a,{className:"mt-3",children:t.map((function(e,t){var n=Object(u.a)(e,2),s=n[0],o=n[1];return Object(x.jsx)(G,{room:s,count:o,join:a,joinedRoom:r},t)}))})]})};A.defaultProps={};var X=A;n(389);console.log("https://ball-talk-1.herokuapp.com/");var z=j.a.connect("https://ball-talk-1.herokuapp.com/");var W=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),o=Object(u.a)(s,2),c=o[0],j=o[1],m=Object(a.useState)(""),d=Object(u.a)(m,2),b=d[0],h=d[1],f=Object(a.useState)([]),p=Object(u.a)(f,2),O=p[0],g=p[1],_=Object(a.useState)(1),v=Object(u.a)(_,2),y=v[0],C=v[1],k=Object(a.useState)(!1),w=Object(u.a)(k,2),R=w[0],S=w[1],J=function(){return n.length>0},T=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.preventDefault(),J()&&c.length>0){e.next=3;break}return e.abrupt("return",console.log(":("));case 3:return e.next=5,M(c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(J()){e.next=2;break}return e.abrupt("return",console.log(":("));case 2:return console.log("joined room: ",t),e.next=5,z.emit("leave_room",b);case 5:return e.next=7,z.emit("join_room",t);case 7:h(t),j(""),E();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,z.emit("refresh_room_info");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){z.on("receive_refreshed_room_info",(function(e){var t=e.rooms,n=e.total;g(t),C(n),S(!1)}))}),[]),Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("img",{src:"/images/ball-talk-logo-v1_edited.jpg",className:"logo mb-3",alt:"logo"}),Object(x.jsx)(D,{joinHandler:T,setRoom:j,setUsername:r,username:n,room:c}),Object(x.jsx)(X,{refreshHandler:E,wheelIsGrey:R,rooms:O,join:M,joinedRoom:b,onlineTotal:y}),""!==b&&Object(x.jsx)(N,{socket:z,username:n,room:b})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,400)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),s(e),o(e)}))};o.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(W,{})}),document.getElementById("root")),V()},96:function(e,t,n){e.exports={Join:"Join_Join__2XhjJ",title:"Join_title__2sml2",username:"Join_username__1dmwV",usernameField:"Join_usernameField__2EIKe",room:"Join_room__nvN5j",roomField:"Join_roomField__3iW7J",submit:"Join_submit__1zXqv"}}},[[390,1,2]]]);
//# sourceMappingURL=main.4814857c.chunk.js.map